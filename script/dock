#!/usr/bin/env bash -e

log() { echo -e "\033[0;35m${1}...\033[0m"; }

if ! command -v dockutil >/dev/null
then
  log 'Installing Dockutil'
  brew install dockutil
fi

log 'Removing all Dock items'
dockutil --remove all --no-restart

log 'Adding back Dock items'
dockutil --add /System/Applications/Launchpad.app --no-restart
dockutil --add /Applications/Safari.app --no-restart
dockutil --add /System/Applications/Messages.app --no-restart
dockutil --add /System/Applications/Music.app --no-restart
dockutil --add /System/Applications/App\ Store.app --no-restart
dockutil --add /System/Applications/Utilities/Terminal.app --no-restart
dockutil --add /System/Applications/System\ Preferences.app --no-restart
dockutil --add /Applications/Visual\ Studio\ Code.app --no-restart
dockutil --add /Applications/Sequel\ Pro.app --no-restart
dockutil --add /Applications/Steam.app --no-restart
dockutil --add "$HOME/Downloads" --display stack --no-restart

log 'Restarting Dock'
/usr/bin/killall Dock >/dev/null 2>&1
